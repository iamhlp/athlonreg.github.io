---
layout:     post
title:      DSDT SSDT简单提取修复
date:       2017-08-30
author:     athlonreg
header-img: img/Mac.jpg
catalog: true
tags:
    - DSDT
    - SSDT
    - 编译
---

# 
首先在CLOVER引导界面按F4或者FN+F4提取原始表单，然后进入Mac，利用Clover Configurator挂载ESP分区，提取的表单就在/EFI/CLOVER/ACPI/origin,将origin整个拷贝到桌面，并删除origin中除DSDT SSDT以外的所有文件
然后下载要用到的工具
iasl：https://bitbucket.org/RehabMan/acpica/downloads/
MaciASL：链接:http://pan.baidu.com/s/1pKAksR5  密码:nxyr
将iasl放到/usr/bin

![170830-1](http://ovefvi4g3.bkt.clouddn.com/170830-1-1.png)

![170830-2](http://ovefvi4g3.bkt.clouddn.com/170830-2-1.png)

然后安装MaciASL并添加补丁源：

![170830-3](http://ovefvi4g3.bkt.clouddn.com/170830-3-1.png)

![170830-4](http://ovefvi4g3.bkt.clouddn.com/170830-4-1.png)

Rehabman补丁源：
Name：RehabMan Laptop 
URL：http://raw.github.com/RehabMan/Laptop-DSDT-Patch/master

打开终端，输入：cd ~/Desktop/origin 回车

![170830-5](http://ovefvi4g3.bkt.clouddn.com/170830-5-1.png)

然后iasl –da –dl *.aml 回车

![170830-6](http://ovefvi4g3.bkt.clouddn.com/170830-6-1.png)

![170830-7](http://ovefvi4g3.bkt.clouddn.com/170830-7-1.png)

这时打开桌面的origin文件夹会发现多出了很多.dsl文件，我们要用到的就是这些文件

![170830-8](http://ovefvi4g3.bkt.clouddn.com/170830-8-1.png)

先不要急，终端继续执行rm –rf *.aml 回车
然后执行 rm –rf *x.dsl 回车，这时就会发现终端只剩下了不带x的dsl文件

![170830-9](http://ovefvi4g3.bkt.clouddn.com/170830-9-1.png)

然后用MaciASL打开DSDT.dsl

![170830-10](http://ovefvi4g3.bkt.clouddn.com/170830-10-1.png)

点Compile编译后会弹出错误的窗口：

![170830-11](http://ovefvi4g3.bkt.clouddn.com/170830-11-1.png)

点这些错误就会定位到错误的代码位置
这里说一下常见的错误修复方法
1、PARSEOP_ZERO错误，定位后会发现一堆zero代码，直接将他们删掉即可
2、Unexpected ‘}’错误：定位后是这样：

![170830-12](http://ovefvi4g3.bkt.clouddn.com/170830-12-1.png)

我们会发现这个错误位于ADBG的方法下，这时只需打个补丁即可：
点Patch

![170830-13](http://ovefvi4g3.bkt.clouddn.com/170830-13-1.png)

找到Fix ADBG Error点一下，然后Apply应用即可，这时我们会发现再编译就没有错误了(警告可以不用管)，然后保存成aml文件

![170830-14](http://ovefvi4g3.bkt.clouddn.com/170830-14-1.png)

![170830-15](http://ovefvi4g3.bkt.clouddn.com/170830-15-1.png)

![170830-16](http://ovefvi4g3.bkt.clouddn.com/170830-16-1.png)

Save即可，其他SSDT文件也是一样的操作

在修改完所有表单的错误并保存成aml格式后，将这些aml文件放到/EFI/CLOVER/ACPI/patched就可以了

如果你喜欢我的帖子，可以酌情打赏哦
![reward](http://ovefvi4g3.bkt.clouddn.com/reward-1.jpg)

